{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "_macros.html" as macros %}

{% block title %}General Hospital{% endblock %}

{% block page_content %}



{% if current_user.is_authenticated %}

<div class="container-fluid">
        <div class="row">
            <div class="col-md-12">


               <div class="panel panel-default">

                  <div class="panel-heading">Weekly schedules</div>
                   <div class="panel-body"> <p>Following is list of weekly schedules that have been generated so far.</p>
                      <p> Select appropriate action to view , email or download a generated schedule.  Admin privilages are
                       needed to generate new schedule<p>


                   </div>

                </div>

            </div>
        </div>


        <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                    <th>Generated by</th>
                    <th>Year</th>
                    <th>Week No</th>
                    <th>Date range(Schedule)</th>

                    <th>Date schedule generated</th>

                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>

                     {% for g in  generated %}
                <tr>
                  <td>{{g[5]}}</td>
                  <td>{{g[1]}}</td>
                  <td>{{g[2]}}</td>
                  <td>{{g[3]}}</td>
                    <td>{{g[4]}}</td>

                    <td> <a href="{{url_for('main.download', id=g[0])}}">  <span class="glyphicon glyphicon-save"></span> </a>
                        <span style="padding-left:20px"> </span>
                        <a data-id={{g[0]}} onclick="Edit(this)" ><span class="glyphicon glyphicon-envelope"></span></a>

                        <span style="padding-left:20px"> </span>

                        <a href="{{url_for('main.viewpdf', id=g[0])}}" ><span class="glyphicon glyphicon-eye-open"></span></a>

                    </td>

                </tr>
                  {% endfor %}

              </tbody>
            </table>
          </div>


</div>









{% else %}


    <div class="container-fluid">


        <div class="row">
            <div class="col-md-12">


               <div class="panel panel-default">

                  <div class="panel-heading">Welcome to Hospital Scheduling system </div>

                </div>

            </div>
        </div>


        <div class="row">
            <div class="col-md-6">
                <div class="jumbotron">
                    <h2>What is Hospital scheduling system</h2>
                    <p> Hospital scheduling system  Generates optimal shift schedule for Nursing staff of any busy hospitals for all wards and depertment using
                     highly automated optimization algorithm for nursing teams</p>

                    <p><a class="btn btn-primary btn-lg" href="{{url_for('main.faq')}}" role="button">Learn more</a></p>
                </div>


            </div>
            <div class="col-md-6">


                <div class="jumbotron">
                    <h2>How to get started</h2>
                    <p>For hospital admins please fill out contact us page and our rep will reach out for demo. </p>
                    <p>If you are part of a hospital nursing team and have invitation code , please register yourself and then
                        you can download weekly schedule for your team </p>
                    <p><a class="btn btn-primary btn-lg" href="{{url_for('main.faq')}}" role="button">Learn more</a></p>
                </div>


            </div>
        </div>

    </div>


{% endif %}


<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="editModalLabel">Email</h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <label for="recipient-name" class="control-label">Recipient:</label>
                        <input type="text" class="form-control" id="id_recipients">
                    </div>
                    <div class="form-group">
                        <label for="message-text" class="control-label">Message text:</label>
                        <textarea class="form-control" id="id_message"></textarea>
                    </div>
                     <div class="form-group">
                        <label for="message-text" class="control-label"  >Week: </label>
                         <input type="text" class="form-control" id="idweek" disabled>

                    </div>
                    <div class="form-group">
                        <label for="message-text" class="control-label" > Year:  </label>
                         <input type="text" class="form-control" id="idyear" disabled>

                    </div>
                    <div class="form-group">
                        <label for="message-text" class="control-label" > attachment </label>
                        <input type="text" class="form-control" id="idfile" disabled>

                    </div>



                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" id="btnUpdate" class="btn btn-primary">Send</button>
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}
{{ super() }}
{{ pagedown.include_pagedown() }}
<script src="{{url_for('static', filename='main.js')}}" type="text/javascript"></script>



{% endblock %}
